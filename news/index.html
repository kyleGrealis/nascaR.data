<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • nascaR.data</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://kylegrealis.github.io/nascaR.data/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nascaR.data</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kyleGrealis/nascaR.data/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/kyleGrealis/nascaR.data/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="nascardata-221">nascar.data 2.2.1<a class="anchor" aria-label="anchor" href="#nascardata-221"></a></h2>
<p><strong>Patch fix</strong>: closing issue <a href="https://github.com/kyleGrealis/nascaR.data/issues/26" class="external-link">#26</a> ### Problem Description</p>
<p>When calling package functions using the <code>::</code> operator (e.g., <code><a href="../reference/get_driver_info.html">nascaR.data::get_driver_info()</a></code>) without first loading the package via <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>, the function would fail with the error:</p>
<pre><code>Error in `selected_series_data()`:
! object 'cup_series' not found</code></pre>
<p>This occurred because the lazy-loaded data objects (<code>cup_series</code>, <code>xfinity_series</code>, <code>truck_series</code>) were not being loaded into the package namespace when functions were accessed directly via <code>::</code>. The data would only load when <code><a href="https://azimuth-project.tech/nascaR.data/" class="external-link">library(nascaR.data)</a></code> was called.</p>
<div class="section level4">
<h4 id="root-cause-2-2-1">Root Cause<a class="anchor" aria-label="anchor" href="#root-cause-2-2-1"></a></h4>
<p>The <code><a href="../reference/selected_series_data.html">selected_series_data()</a></code> function in <code>utils.R</code> was directly referencing data objects without ensuring they were loaded. When using <code>::</code> notation, R loads the function but doesn’t trigger lazy data loading, causing the data objects to be unavailable.</p>
</div>
<div class="section level3">
<h3 id="solution-2-2-1">Solution<a class="anchor" aria-label="anchor" href="#solution-2-2-1"></a></h3>
<p>Modified the <code><a href="../reference/selected_series_data.html">selected_series_data()</a></code> function to explicitly load the required data objects using the <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ensure data is loaded even when using :: notation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"cup_series"</span>, package <span class="op">=</span> <span class="st">"nascaR.data"</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"xfinity_series"</span>, package <span class="op">=</span> <span class="st">"nascaR.data"</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"truck_series"</span>, package <span class="op">=</span> <span class="st">"nascaR.data"</span>, envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">environment</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This ensures the data is available regardless of how the function is accessed, making the package more robust for users who prefer the <code>::</code> notation without loading the entire package namespace.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.0" id="nascardata-220">nascar.data 2.2.0<a class="anchor" aria-label="anchor" href="#nascardata-220"></a></h2><p class="text-muted">CRAN release: 2025-02-12</p>
<div class="section level3">
<h3 id="enhancements-2-2-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-2-0"></a></h3>
<ul><li>Added missing races. The Cup Series season finale was omitted for a number of years from 2002 to 2022. Thank you to Nick Triplett for the catching the mistake!</li>
<li>
<code>Seg Points</code> has been removed. Instead, <code>S1</code> &amp; <code>S2</code> variables correspond to the driver’s finishing position during each segment.</li>
<li>Updated missing track information (length, surface type) for 32 Cup races with varying years, mostly pre-2000s.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-2-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-2-0"></a></h3>
<ul><li>Updated <code>S1</code> &amp; <code>S2</code> documentation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="nascardata-210">nascar.data 2.1.0<a class="anchor" aria-label="anchor" href="#nascardata-210"></a></h2><p class="text-muted">CRAN release: 2025-01-21</p>
<div class="section level3">
<h3 id="enhancements-2-1-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-1-0"></a></h3>
<ul><li>
<code>dev</code> branch will be updated with the most recent racing results every Monday at 10AM during the race season (February through November).</li>
<li>New <code>get_*_info()</code> functions provide summary statistics on a by-race, season, or career format.</li>
<li>Fuzzy matching has been included to search across the database in the respective series</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-0"></a></h3>
<ul><li><em>None</em></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-1-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-1-0"></a></h3>
<ul><li>Updated README and vignette reflecting package changes.</li>
</ul></div>
<div class="section level3">
<h3 id="internal-changes-2-1-0">Internal Changes<a class="anchor" aria-label="anchor" href="#internal-changes-2-1-0"></a></h3>
<ul><li>Error handling for placeholder race. The “DriverAverages.com” site will sometimes have one row for the upcoming race. This has routinely caused issues for the weekly scraping functions accidentally “recognizing” that as having been a completed race. The oversight has been addressed by removing that (essentially) blank row, decreasing the index, and continuing to scrape for new race data.</li>
<li>Fuzzy finding is used within the functions returning the driver, team, or manufacturer information. There is room for improvement: “Chris Bell” would find “Christopher Bell” instead of “Chris Miller” as it does now. Improvements would include a stronger focus on the driver or owner’s last name, but this will take some trial and error to really dial in.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="nascardata-200">nascaR.data 2.0.0<a class="anchor" aria-label="anchor" href="#nascardata-200"></a></h2>
<ul><li>
<em>BREAKING</em> CHANGES:
<ul><li>Web data scraped using R packages &amp; removed existing Python scripts.</li>
<li>Reduced number of datasets for Cup, Xfinity, &amp; Truck series results by series only.</li>
</ul></li>
<li>Integrated GitHub Actions for auto-updating all series results</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="nascardata-100">nascaR.data 1.0.0<a class="anchor" aria-label="anchor" href="#nascardata-100"></a></h2><p class="text-muted">CRAN release: 2024-07-09</p>
<ul><li>Initial CRAN submission.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle Grealis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

