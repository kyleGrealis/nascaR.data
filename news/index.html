<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • nascaR.data</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://www.kylegrealis.com/nascaR.data/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nascaR.data</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a-race-winning-strategy.html">A Race Winning Strategy</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kyleGrealis/nascaR.data/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/kyleGrealis/nascaR.data/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="3.0.0" id="nascardata-300">nascaR.data 3.0.0<a class="anchor" aria-label="anchor" href="#nascardata-300"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-3-0-0">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-3-0-0"></a></h3>
<ul><li>
<p><strong>Bundled data removed.</strong> The <code>cup_series</code>, <code>xfinity_series</code>, and <code>truck_series</code> datasets are no longer shipped with the package. All data is now served from Cloudflare R2. Use <code><a href="../reference/load_series.html">load_series()</a></code> to access data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_series.html">load_series</a></span><span class="op">(</span><span class="st">"cup"</span><span class="op">)</span></span>
<span><span class="va">nxs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_series.html">load_series</a></span><span class="op">(</span><span class="st">"nxs"</span><span class="op">)</span></span>
<span><span class="va">truck</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_series.html">load_series</a></span><span class="op">(</span><span class="st">"truck"</span><span class="op">)</span></span></code></pre></div>
</li>
<li><p><strong><code>arrow</code> is now a required dependency</strong> (moved from Suggests to Imports) since all data access goes through parquet files on R2.</p></li>
<li><p><strong><code>"xfinity"</code> series renamed to <code>"nxs"</code>.</strong> The second-tier series has changed title sponsors four times: Busch (1984-2007), Nationwide (2008-2014), Xfinity (2015-2025), and O’Reilly Auto Parts (2026-present). The identifier <code>"nxs"</code> is NASCAR’s own sponsor-neutral abbreviation, so it will never go stale. Replace <code>load_series("xfinity")</code> with <code>load_series("nxs")</code>.</p></li>
<li><p><strong><code>find_driver()</code>, <code>find_team()</code>, <code>find_manufacturer()</code> removed.</strong> The <code>get_*_info()</code> functions already include fuzzy matching and return actual data. Use <code>get_driver_info("bell")</code> instead of <code>find_driver("bell")</code>.</p></li>
<li><p><strong><code>data("cup_series")</code> no longer works.</strong> Replace all <code><a href="https://rdrr.io/r/utils/data.html" class="external-link">data()</a></code> calls with <code><a href="../reference/load_series.html">load_series()</a></code>. The old lazy-loaded dataset names are gone.</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-3-0-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-3-0-0"></a></h3>
<ul><li><p><strong><code><a href="../reference/load_series.html">load_series()</a></code></strong>: Two-tier caching (memory + disk). First call downloads from R2 and caches locally. Subsequent calls are instant. Use <code>refresh = TRUE</code> to force re-download.</p></li>
<li><p><strong><code><a href="../reference/clear_cache.html">clear_cache()</a></code></strong>: New exported function to wipe cached data from memory and disk. Disk cache uses the CRAN-approved <code><a href="https://rdrr.io/r/tools/userdir.html" class="external-link">tools::R_user_dir()</a></code> location.</p></li>
<li><p><strong>R2-canonical pipeline</strong>: The weekly GitHub Actions scraper now reads existing data from R2, appends new races, and uploads back to R2. No local rda files are generated or committed.</p></li>
</ul></div>
<div class="section level3">
<h3 id="improvements-3-0-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-3-0-0"></a></h3>
<ul><li><p>Migrated from <code>httr</code> to <code>httr2</code> for HTTP requests. The scraper now uses <code><a href="https://httr2.r-lib.org/reference/request.html" class="external-link">httr2::request()</a></code> with built-in retry logic (<code>req_retry()</code>).</p></li>
<li><p>Consolidated web scraping with <code>httr2</code>, <code>imap_dfr()</code> indexing, explicit column type coercion, placeholder detection, and empty table guards.</p></li>
<li><p>Data validation framework for schema, integrity, and value checks.</p></li>
<li><p>Code quality enforced with <code>styler</code> and <code>lintr</code> (zero warnings).</p></li>
<li><p>All <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code> calls in package code replaced with <code><a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">rlang::abort()</a></code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.3" id="nascardata-223">nascaR.data 2.2.3<a class="anchor" aria-label="anchor" href="#nascardata-223"></a></h2><p class="text-muted">CRAN release: 2025-09-11</p>
<ul><li>Adding season updates for all divisions</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.2" id="nascardata-222">nascaR.data 2.2.2<a class="anchor" aria-label="anchor" href="#nascardata-222"></a></h2><p class="text-muted">CRAN release: 2025-06-02</p>
<p>Deprecating the <code>weekly</code> branch! Weekly race results will be added to the <code>main</code> branch. CRAN-stable version is available via CRAN:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"nascaR.data"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"kyleGrealis/nascaR.data"</span><span class="op">)</span> <span class="co"># please do not use "@weekly"</span></span></code></pre></div>
<div class="section level3">
<h3 id="major-enhancement-complete-fuzzy-matching-system-overhaul-2-2-2">Major Enhancement: Complete Fuzzy Matching System Overhaul<a class="anchor" aria-label="anchor" href="#major-enhancement-complete-fuzzy-matching-system-overhaul-2-2-2"></a></h3>
<div class="section level4">
<h4 id="new-features-2-2-2">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-2-2"></a></h4>
<ul><li><p><strong>Interactive driver/team/manufacturer selection</strong>: When multiple matches are found, users can now select from a numbered list</p></li>
<li>
<p><strong>Intelligent fuzzy matching</strong>: Dramatically improved search algorithm that handles typos, partial names, and word boundaries</p>
<ul><li>
<code>find_driver("kyle")</code> -&gt; returns Kyle Busch, Kyle Larson, Kyle Petty, etc.</li>
<li>
<code>find_team("gibbs")</code> -&gt; finds Joe Gibbs Racing</li>
<li>
<code>find_driver("earnhart")</code> -&gt; correctly finds Earnhardt family drivers</li>
</ul></li>
<li>
<p><strong>Flexible series input</strong>: All functions now accept both character strings AND data frames</p>
<ul><li>
<code>get_driver_info("kyle", "cup")</code> check</li>
<li>
<code>get_driver_info("kyle", "Cup Series")</code> check</li>
<li>
<code>get_driver_info("kyle", cup_series)</code> check</li>
</ul></li>
<li><p><strong>Smart string matching</strong>: Handles variations like “cup”, “Cup Series”, “xfinity”, “Xfinity Series” automatically</p></li>
</ul></div>
<div class="section level4">
<h4 id="technical-improvements-2-2-2">Technical Improvements<a class="anchor" aria-label="anchor" href="#technical-improvements-2-2-2"></a></h4>
<ul><li><p><strong>Consolidated codebase</strong>: Replaced three separate fuzzy matching files with one unified system</p></li>
<li><p><strong>Priority-based matching</strong>: Exact matches &gt; starts with &gt; contains &gt; word boundaries &gt; fuzzy similarity</p></li>
<li><p><strong>Non-interactive mode</strong>: Dashboard/script developers can set <code>interactive = FALSE</code> to get list returns</p></li>
<li><p><strong>Removed dependency on problematic Levenshtein distance calculations</strong></p></li>
<li><p><strong>Eliminated interactive prompts that broke in non-interactive environments</strong></p></li>
</ul></div>
<div class="section level4">
<h4 id="user-experience-2-2-2">User Experience<a class="anchor" aria-label="anchor" href="#user-experience-2-2-2"></a></h4>
<ul><li><p><strong>Typo tolerance</strong>: Common misspellings now find correct matches</p></li>
<li><p><strong>One-step workflow</strong>: Search and select in the same function call</p></li>
<li><p><strong>Clear feedback</strong>: Better messaging when multiple options are available</p></li>
</ul></div>
<div class="section level4">
<h4 id="breaking-changes-2-2-2">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-2-2"></a></h4>
<ul><li><p>None! All existing function calls continue to work as before</p></li>
<li><p>New <code>interactive</code> parameter defaults to <code>TRUE</code> for better user experience</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-2-2-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-2-2"></a></h4>
<ul><li><p>Fixed fuzzy matching returning irrelevant results</p></li>
<li><p>Resolved cases where obvious matches weren’t found due to strict string matching</p></li>
<li><p>Eliminated interactive readline prompts that failed in scripts and R Markdown</p></li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="nascardata-221">nascaR.data 2.2.1<a class="anchor" aria-label="anchor" href="#nascardata-221"></a></h2><p class="text-muted">CRAN release: 2025-05-15</p>
<div class="section level3">
<h3 id="enhancements-2-2-1">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-2-1"></a></h3>
<ul><li><p>Added missing races. The Cup Series season finale was omitted for a number of years from 2002 to 2022. Thank you to Nick Triplett for the catching the mistake!</p></li>
<li><p><code>Seg Points</code> has been removed. Instead, <code>S1</code> &amp; <code>S2</code> variables correspond to the driver’s finishing position during each segment.</p></li>
<li><p>Updated missing track information (length, surface type) for 32 Cup races with varying years, mostly pre-2000s.</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-2-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-2-1"></a></h3>
<ul><li>Updated <code>S1</code> &amp; <code>S2</code> documentation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="nascardata-210">nascaR.data 2.1.0<a class="anchor" aria-label="anchor" href="#nascardata-210"></a></h2><p class="text-muted">CRAN release: 2025-01-21</p>
<div class="section level3">
<h3 id="enhancements-2-1-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-2-1-0"></a></h3>
<ul><li><p><code>dev</code> branch will be updated with the most recent racing results every Monday at 10AM during the race season (February through November).</p></li>
<li><p>New <code>get_*_info()</code> functions provide summary statistics on a by-race, season, or career format.</p></li>
<li><p>Fuzzy matching has been included to search across the database in the respective series</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-2-1-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-1-0"></a></h3>
<ul><li><em>None</em></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-1-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-1-0"></a></h3>
<ul><li>Updated README and vignette reflecting package changes.</li>
</ul></div>
<div class="section level3">
<h3 id="internal-changes-2-1-0">Internal Changes<a class="anchor" aria-label="anchor" href="#internal-changes-2-1-0"></a></h3>
<ul><li><p>Error handling for placeholder race. The “DriverAverages.com” site will sometimes have one row for the upcoming race. This has routinely caused issues for the weekly scraping functions accidentally “recognizing” that as having been a completed race. The oversight has been addressed by removing that (essentially) blank row, decreasing the index, and continuing to scrape for new race data.</p></li>
<li><p>Fuzzy finding is used within the functions returning the driver, team, or manufacturer information. There is room for improvement: “Chris Bell” would find “Christopher Bell” instead of “Chris Miller” as it does now. Improvements would include a stronger focus on the driver or owner’s last name, but this will take some trial and error to really dial in.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="nascardata-200">nascaR.data 2.0.0<a class="anchor" aria-label="anchor" href="#nascardata-200"></a></h2>
<ul><li>
<em>BREAKING</em> CHANGES:
<ul><li>Web data scraped using R packages &amp; removed existing Python scripts.</li>
<li>Reduced number of datasets for Cup, Xfinity, &amp; Truck series results by series only.</li>
</ul></li>
<li>Integrated GitHub Actions for auto-updating all series results</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="nascardata-100">nascaR.data 1.0.0<a class="anchor" aria-label="anchor" href="#nascardata-100"></a></h2><p class="text-muted">CRAN release: 2024-07-09</p>
<ul><li>Initial CRAN submission.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kyle Grealis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

