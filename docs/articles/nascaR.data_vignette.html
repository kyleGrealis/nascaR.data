<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Race Winning Strategy • nascaR.data</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="A Race Winning Strategy">
<meta property="og:description" content="nascaR.data">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nascaR.data</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cup_series_data.html">NASCAR Series Data</a>
    </li>
    <li>
      <a href="../articles/nascaR.data_vignette.html">A Race Winning Strategy</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kyleGrealis/nascaR.data/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>A Race Winning Strategy</h1>
                        <h4 data-toc-skip class="author">Kyle
Grealis</h4>
            
            <h4 data-toc-skip class="date">June 23, 2024</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/kyleGrealis/nascaR.data/blob/HEAD/vignettes/nascaR.data_vignette.qmd" class="external-link"><code>vignettes/nascaR.data_vignette.qmd</code></a></small>
      <div class="hidden name"><code>nascaR.data_vignette.qmd</code></div>

    </div>

    
    
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.5</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.5.1     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.3     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.2     </span></span>
<span><span class="co">## <span style="color: #555555;">[conflicted]</span> Will prefer <span style="color: #0000BB; font-weight: bold;">dplyr</span>::filter over any other package.</span></span></code></pre>
<div class="section level2">
<h2 id="in-the-pits">In the Pits<a class="anchor" aria-label="anchor" href="#in-the-pits"></a>
</h2>
<p>NASCAR is one of the top-tier racing sports in North America and
competes against F1 and IndyCar for the top viewship spot. Approximately
3.22 million people watch a race on any given weekend throughout the
season. The <code>nascaR.data</code> package is the result of wanting to
share a passion for the sport and provide an option to the typical go-to
packages when learning new data visualization tools.</p>
<p><code>nascaR.data</code> is packed full of NASCAR results dating back
to the first Daytona Beach race in 1949! Use this package to discover
race trends across the NASCAR Cup Series, Xfinity Series, and Craftsman
Truck Series. Answer fun questions like “which driver has accumulated
the most wins overall?”, “which owner has the best top 10 percentage at
Daytona?”, or see which manufacturer has dominated which series in a
certain season. It’s all here, so let’s strap in to our race seats, fire
up those engines, and let’s take some warm-up laps.</p>
</div>
<div class="section level2">
<h2 id="warming-up-the-tires">Warming up the tires<a class="anchor" aria-label="anchor" href="#warming-up-the-tires"></a>
</h2>
<p><code>nascaR.data</code> provides access to 21 different datasets (7
per series) and are broken down by overall race results and driver,
owner, and manufacturer season &amp; career records. Let’s check our
gauges and see what’s under the hood:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">nascaR.data</span><span class="op">)</span></span></code></pre></div>
<p>Use <code><a href="../reference/cup_race_data.html">?nascaR.data::cup_race_data</a></code> to view a list of
variable descriptions. This package has been designed to swap
<code>cup</code> for <code>xfinity</code> or <code>truck</code> to see
the same data structure (variables) for the respective series. Would you
rather inspect driver-specific results listed by season or their overall
career? No problem… this is an easy pit stop:
<code>cup_driver_career</code> or <code>xfinity_owner_season</code> or
<code>truck_mfg_overall</code>.</p>
<div class="callout-note">
<p>Manufacturer (<code>mfg</code>) results use the term “overall”
instead of “career” as is used for driver and owner.</p>
<p><code>cup_mfg_overall</code> vs <code>cup_driver_career</code></p>
</div>
</div>
<div class="section level2">
<h2 id="green-flag">Green Flag!<a class="anchor" aria-label="anchor" href="#green-flag"></a>
</h2>
<p><strong>Which drivers are in the Top 5 for wins in the NASCAR Cup
Series?</strong></p>
<p>First, organize the drivers in descending order by win. Then, subset
to keep the Top 5 winningest drivers. Lastly, feed the data into a
horizontal bar chart (some other tweaks will be applied to enhance the
visual output).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cup_driver_career</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">career_wins</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">driver</span>, <span class="va">career_wins</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">'identity'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="nascaR.data_vignette_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Wow! This doesn’t even look like a close race. Richard Petty clearly
leads the field with 200 wins. However, let’s take a drive a little
deeper into the turn and account for the number of races each driver
competed in. What if we compare these same five drivers by win
percentage?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cup_driver_career</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">career_wins</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">driver</span>, <span class="va">career_win_pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">'identity'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="nascaR.data_vignette_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Accounting for Richard Petty’s 1185 races to David Pearson’s 575
races, imagine how many more wins Pearson would have if he competed in
as many races as The King.</p>
</div>
<div class="section level2">
<h2 id="the-garage-area">The Garage Area<a class="anchor" aria-label="anchor" href="#the-garage-area"></a>
</h2>
<p><strong>Which manufacturer has the best win percentage by
season?</strong></p>
<p>Let’s go behind the pits and see what the manufacturers are up to in
the Truck Series.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">truck_mfg_season</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">season</span>, <span class="va">mfg_season_win_pct</span>, group <span class="op">=</span> <span class="va">manufacturer</span>, color <span class="op">=</span> <span class="va">manufacturer</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="nascaR.data_vignette_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>No clear trend emerges, though it appears that there may be a 5-year
clustering of winning percentage. For example, the Dodges experienced
success in the early 2000s, but started to fall off before exiting the
series. And while Ford has seemingly had gradual improvement, you can
clearly see the success of the Toyota camp since joining the Truck
series in 2004.</p>
</div>
<div class="section level2">
<h2 id="post-race">Post-race<a class="anchor" aria-label="anchor" href="#post-race"></a>
</h2>
<p><strong>Collect your race winnings</strong></p>
<p>How has the average money for winning a race changed over time?</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cup</span> <span class="op">&lt;-</span> <span class="va">cup_race_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>series <span class="op">=</span> <span class="st">'Cup'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">finish</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">season</span>, <span class="va">race</span>, <span class="va">finish</span>, <span class="va">money</span>, <span class="va">series</span><span class="op">)</span></span>
<span></span>
<span><span class="va">xfinity</span> <span class="op">&lt;-</span> <span class="va">xfinity_race_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>series <span class="op">=</span> <span class="st">'Xfinity'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">finish</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">season</span>, <span class="va">race</span>, <span class="va">driver</span>, <span class="va">money</span>, <span class="va">series</span><span class="op">)</span></span>
<span></span>
<span><span class="va">truck</span> <span class="op">&lt;-</span> <span class="va">truck_race_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>series <span class="op">=</span> <span class="st">'Truck'</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">finish</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">season</span>, <span class="va">race</span>, <span class="va">driver</span>, <span class="va">money</span>, <span class="va">series</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">bind_rows</span><span class="op">(</span><span class="va">cup</span>, <span class="va">xfinity</span>, <span class="va">truck</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">series</span>, <span class="va">season</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span>mean_money <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">money</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">season</span>, <span class="va">mean_money</span>, group <span class="op">=</span> <span class="va">series</span>, color <span class="op">=</span> <span class="va">series</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Removed 24 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_point()`).</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Removed 24 rows containing missing values or values outside the scale range</span></span>
<span><span class="co">## (`geom_line()`).</span></span></code></pre>
<p><img src="nascaR.data_vignette_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Race winnings in the Cup series experienced exponential growth
beginning in the 1980s while Xfinity and Truck Series winnings have
remained relatively the same since 2000.</p>
</div>
<div class="section level2">
<h2 id="the-backstretch">The Backstretch<a class="anchor" aria-label="anchor" href="#the-backstretch"></a>
</h2>
<p>I hope this gives you a little taste of what is included in this
package. There’s plenty of opportunity to further clean and reshape the
data for data visualizations or model prepping. I’ll be adding more data
throughout the season.</p>
</div>
<div class="section level2">
<h2 id="toolbox">Toolbox<a class="anchor" aria-label="anchor" href="#toolbox"></a>
</h2>
<p><code>nascaR.data</code> was built with R version 4.4.0 with the
<code>tidyverse</code> (2.0.0), <code>rUM</code> (2.0.0), and
<code>ggtext</code> (0.1.2) packages used to preprocess and summarize
data.<span class="citation"><sup>1–5</sup></span></p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body">
<div id="ref-R-base" class="csl-entry">
<div class="csl-left-margin">1. </div>
<div class="csl-right-inline">R
Core Team. R: A language and environment for statistical computing
[Internet]. Vienna, Austria: R Foundation for Statistical Computing;
2024. Available from: <a href="https://www.R-project.org/" class="external-link">https://www.R-project.org/</a>
</div>
</div>
<div id="ref-R-tidyverse" class="csl-entry">
<div class="csl-left-margin">2. </div>
<div class="csl-right-inline">Wickham H. Tidyverse: Easily install and load
the tidyverse [Internet]. 2023. Available from: <a href="https://tidyverse.tidyverse.org" class="external-link">https://tidyverse.tidyverse.org</a>
</div>
</div>
<div id="ref-tidyverse2019" class="csl-entry">
<div class="csl-left-margin">3. </div>
<div class="csl-right-inline">Wickham H, Averick M, Bryan J, et al. <a href="https://doi.org/10.21105/joss.01686" class="external-link">Welcome to the <span class="nocase">tidyverse</span></a>. Journal of Open Source Software
2019;4(43):1686. </div>
</div>
<div id="ref-R-rUM" class="csl-entry">
<div class="csl-left-margin">4. </div>
<div class="csl-right-inline">Balise R, Odom G, Grealis K, Cardozo F. rUM: R
templates from the university of miami [Internet]. 2024. Available from:
<a href="https://raymondbalise.github.io/rUM/" class="external-link">https://raymondbalise.github.io/rUM/</a>
</div>
</div>
<div id="ref-R-ggtext" class="csl-entry">
<div class="csl-left-margin">5. </div>
<div class="csl-right-inline">Wilke CO, Wiernik BM. Ggtext: Improved text
rendering support for ggplot2 [Internet]. 2022. Available from: <a href="https://wilkelab.org/ggtext/" class="external-link">https://wilkelab.org/ggtext/</a>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Kyle Grealis.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
